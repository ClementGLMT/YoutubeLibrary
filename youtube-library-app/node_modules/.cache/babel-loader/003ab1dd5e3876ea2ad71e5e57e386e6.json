{"ast":null,"code":"import { store } from '../store';\n\nconst axios = require('axios');\n\nexport function updateListReducer(panel, videos) {\n  switch (panel) {\n    case 'leftPanel':\n      console.log('left Action created');\n      return {\n        type: 'UPDATE_LEFTPANEL',\n        payload: {\n          videos\n        }\n      };\n\n    case 'rightPanel':\n      return {\n        type: 'UPDATE_RIGHTPANEL',\n        payload: {\n          videos\n        }\n      };\n\n    default:\n      return;\n  }\n}\nexport function showWelcomePanel(lastDisp) {\n  var rep = {\n    type: 'SHOW_WELCOME',\n    payload: {}\n  };\n  rep.payload[lastDisp] = false;\n  return rep;\n}\nexport function showSearchAndResults(lastDisp) {\n  var rep = {\n    type: 'SHOW_SEARCH_AND_RESULTS',\n    payload: {}\n  };\n  rep.payload[lastDisp] = false;\n  console.log(\"Action created: \" + JSON.stringify(rep));\n  return rep;\n}\nexport function showVideoPlayer(lastDisp, video) {\n  var rep = {\n    type: 'SHOW_VIDEO_PLAYER',\n    payload: {\n      video\n    }\n  };\n  rep.payload[lastDisp] = false;\n  console.log(\"Action created: \" + JSON.stringify(rep));\n  return rep;\n}\nexport function setUser(value) {\n  return {\n    type: 'SET_USER',\n    payload: {\n      user: value\n    }\n  };\n}\nexport function modalAction(action, payload) {\n  switch (action) {\n    case 'open':\n      console.log(\"Returning action : \" + JSON.stringify({\n        type: 'OPEN_MODAL',\n        payload\n      }));\n      return {\n        type: 'OPEN_MODAL',\n        payload\n      };\n\n    case 'close':\n      return {\n        type: 'CLOSE_MODAL'\n      };\n\n    default:\n      return;\n  }\n}\nexport function isSearching(bool, maxRes) {\n  return {\n    type: 'IS_SEARCHING',\n    payload: {\n      isSearching: bool,\n      maxRes\n    }\n  };\n}\nexport function resultsAreLoading(bool) {\n  console.log(\"Results are loading: \" + JSON.stringify({\n    type: 'RESULTS_ARE_LOADING',\n    payload: {\n      isLoading: bool\n    }\n  }));\n  return {\n    type: 'RESULTS_ARE_LOADING',\n    payload: {\n      isLoading: bool\n    }\n  };\n}\nexport function resultsFetchDataSuccess(results) {\n  console.log(\"Results are fetch: \" + JSON.stringify({\n    type: 'RESULTS_FETCH_DATA_SUCCESS',\n    payload: {\n      results\n    }\n  }));\n  return {\n    type: 'RESULTS_FETCH_DATA_SUCCESS',\n    payload: {\n      results\n    }\n  };\n}\nexport function resultsHasErrored(bool) {\n  return {\n    type: 'RESULTS_HAS_ERRORED',\n    payload: {\n      hasErrored: bool\n    }\n  };\n}\nexport function errorAfterFiveSeconds() {\n  return dispatch => {\n    setTimeout(() => {\n      store.dispatch(resultsHasErrored(true));\n    }, 5000);\n  };\n}\nexport function resultsFetchData(url, body) {\n  return dispatch => {\n    store.dispatch(resultsAreLoading(true));\n    console.log(\"Fetching with body = \" + JSON.stringify(body));\n    axios.post(url, body).then(function (response) {\n      if (response.status !== 200) {\n        console.log(response.statusText);\n        store.dispatch(resultsHasErrored(true));\n      }\n\n      store.dispatch(resultsAreLoading(false));\n      console.log(\"Got raw rfesponse : \" + JSON.stringify(response.data));\n      var data = response.data;\n\n      for (let i = 0; i < data.videos.length; i++) {\n        data.videos[i]['subtitle'] = '';\n        data.videos[i]['isParsed'] = false;\n      } //var data = JSON.parse(response.data);\n      //console.log(\"Got raw rfesponse : \"+JSON.stringify(data));\n\n\n      store.dispatch(resultsFetchDataSuccess(response.data.videos));\n    }).catch(function (err) {\n      console.log(err);\n    });\n    /*\r\n    fetch(url, body)\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw Error(response.statusText);\r\n            }\r\n            console.log(\"Got raw rfesponse : \"+JSON.stringify(response))\r\n            store.dispatch(resultsAreLoading(false));\r\n            return response;\r\n        })\r\n        .then((response) => {response.json(); console.log(\"REsponse got : \"+response)})\r\n        .then((items) => store.dispatch(resultsFetchDataSuccess(items)))\r\n        .catch(() => store.dispatch(resultsHasErrored(true)));\r\n        */\n  };\n}","map":{"version":3,"sources":["C:/Users/servi/Documents/EZProjet/YoutubeLibrary/youtube-library-app/src/actions/index.js"],"names":["store","axios","require","updateListReducer","panel","videos","console","log","type","payload","showWelcomePanel","lastDisp","rep","showSearchAndResults","JSON","stringify","showVideoPlayer","video","setUser","value","user","modalAction","action","isSearching","bool","maxRes","resultsAreLoading","isLoading","resultsFetchDataSuccess","results","resultsHasErrored","hasErrored","errorAfterFiveSeconds","dispatch","setTimeout","resultsFetchData","url","body","post","then","response","status","statusText","data","i","length","catch","err"],"mappings":"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","sourcesContent":["import {store} from '../store';\r\nconst axios = require('axios');\r\n\r\nexport function updateListReducer(panel, videos) {\r\n    switch(panel) {\r\n\r\n        case 'leftPanel':\r\n            console.log('left Action created');\r\n            return {\r\n                type: 'UPDATE_LEFTPANEL',\r\n                payload: {\r\n                    videos\r\n                }\r\n            }\r\n\r\n        case 'rightPanel':\r\n            return {\r\n                type: 'UPDATE_RIGHTPANEL',\r\n                payload: {\r\n                    videos\r\n                }\r\n            }\r\n\r\n        default:\r\n            return;\r\n    }\r\n}\r\n\r\nexport function showWelcomePanel(lastDisp) {\r\n\r\n    var rep = {\r\n        type: 'SHOW_WELCOME',\r\n        payload: {\r\n\r\n        }\r\n    }\r\n    rep.payload[lastDisp] = false;\r\n    return rep;\r\n\r\n}\r\n\r\nexport function showSearchAndResults(lastDisp) {\r\n\r\n    var rep = {\r\n        type: 'SHOW_SEARCH_AND_RESULTS',\r\n        payload: {\r\n\r\n        }\r\n    };\r\n    \r\n    rep.payload[lastDisp] = false;\r\n    console.log(\"Action created: \"+JSON.stringify(rep));\r\n    return rep;\r\n\r\n}\r\n\r\nexport function showVideoPlayer(lastDisp, video) {\r\n\r\n    var rep = {\r\n        type: 'SHOW_VIDEO_PLAYER',\r\n        payload: {\r\n            video\r\n        }\r\n    }\r\n\r\n    rep.payload[lastDisp] = false;\r\n    console.log(\"Action created: \"+JSON.stringify(rep));\r\n\r\n    return rep;\r\n\r\n}\r\n\r\nexport function setUser(value) {\r\n    return {\r\n        type: 'SET_USER',\r\n        payload: {\r\n            user: value\r\n        }\r\n    }\r\n}\r\n\r\nexport function modalAction(action, payload) {\r\n\r\n    switch(action) {\r\n\r\n        case 'open':\r\n            console.log(\"Returning action : \"+JSON.stringify({\r\n                type: 'OPEN_MODAL',\r\n                payload\r\n            }));\r\n            return {\r\n                type: 'OPEN_MODAL',\r\n                payload\r\n            }\r\n\r\n        case 'close':\r\n            return {\r\n                type: 'CLOSE_MODAL'\r\n            }\r\n\r\n        default: \r\n            return;\r\n    }\r\n\r\n}\r\n\r\nexport function isSearching(bool, maxRes) {\r\n\r\n    return {\r\n        type: 'IS_SEARCHING',\r\n        payload: {\r\n            isSearching: bool,\r\n            maxRes\r\n        }\r\n    }\r\n}\r\n\r\nexport function resultsAreLoading(bool) {\r\n    console.log(\"Results are loading: \"+JSON.stringify({\r\n        type: 'RESULTS_ARE_LOADING',\r\n        payload: {\r\n            isLoading: bool,\r\n        }\r\n    }));\r\n    return {\r\n        type: 'RESULTS_ARE_LOADING',\r\n        payload: {\r\n            isLoading: bool\r\n        }\r\n    };\r\n}\r\n\r\nexport function resultsFetchDataSuccess(results) {\r\n    console.log(\"Results are fetch: \"+JSON.stringify({\r\n        type: 'RESULTS_FETCH_DATA_SUCCESS',\r\n        payload: {\r\n            results,\r\n        }\r\n    }));\r\n    return {\r\n        type: 'RESULTS_FETCH_DATA_SUCCESS',\r\n        payload: {\r\n            results,\r\n        }\r\n    };\r\n}\r\n\r\nexport function resultsHasErrored(bool) {\r\n    return {\r\n        type: 'RESULTS_HAS_ERRORED',\r\n        payload: {\r\n            hasErrored: bool\r\n        }\r\n    };\r\n}\r\n\r\nexport function errorAfterFiveSeconds() {\r\n    return (dispatch) => {\r\n        setTimeout(() => {\r\n            store.dispatch(resultsHasErrored(true));\r\n        }, 5000);\r\n    };\r\n}\r\n\r\nexport function resultsFetchData(url, body) {\r\n    return (dispatch) => {\r\n        store.dispatch(resultsAreLoading(true));\r\n        console.log(\"Fetching with body = \"+JSON.stringify(body))\r\n        axios.post(url, body)\r\n        .then(function(response) {\r\n            if(response.status !== 200){\r\n                console.log(response.statusText);\r\n                store.dispatch(resultsHasErrored(true));\r\n            }\r\n            store.dispatch(resultsAreLoading(false));\r\n            console.log(\"Got raw rfesponse : \"+JSON.stringify(response.data));\r\n            var data = response.data;\r\n            for (let i = 0; i < data.videos.length; i++) {\r\n                data.videos[i]['subtitle'] = '';\r\n                data.videos[i]['isParsed'] = false;\r\n            }\r\n            //var data = JSON.parse(response.data);\r\n            //console.log(\"Got raw rfesponse : \"+JSON.stringify(data));\r\n            store.dispatch(resultsFetchDataSuccess(response.data.videos));\r\n        })\r\n        .catch( function(err) {\r\n            console.log(err);\r\n        })\r\n        /*\r\n        fetch(url, body)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw Error(response.statusText);\r\n                }\r\n                console.log(\"Got raw rfesponse : \"+JSON.stringify(response))\r\n                store.dispatch(resultsAreLoading(false));\r\n                return response;\r\n            })\r\n            .then((response) => {response.json(); console.log(\"REsponse got : \"+response)})\r\n            .then((items) => store.dispatch(resultsFetchDataSuccess(items)))\r\n            .catch(() => store.dispatch(resultsHasErrored(true)));\r\n            */\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}