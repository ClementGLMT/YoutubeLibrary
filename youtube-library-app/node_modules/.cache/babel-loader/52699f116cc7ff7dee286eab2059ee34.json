{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\servi\\\\Documents\\\\EZProjet\\\\YoutubeLibrary\\\\youtube-library-app\\\\src\\\\components\\\\leftPanel.js\";\nimport React from 'react';\nimport VideoList from './videolist';\n\nconst axios = require('axios');\n\nexport default class leftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.user,\n      data: {\n        name: '',\n        videos: []\n      },\n      isDataLoaded: 0\n    };\n  }\n\n  getLibraryContent() {\n    var context = this;\n    var data = {};\n    var libraryURL = 'http://localhost:2999/data';\n    console.log(this.state.user);\n    axios.get(libraryURL, {\n      params: {\n        user: this.state.user\n      }\n    }).then(function (response) {\n      //Problem here\n      data = response.data;\n      console.log(\"Data got : \" + JSON.stringify(data));\n      context.setState({\n        data: data,\n        isDataLoaded: 1\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"In components did mount\");\n    this.setState({\n      data: this.getLibraryContent()\n    });\n  }\n\n  render() {\n    console.log(\"In render : \" + JSON.stringify(this.state.data));\n\n    if (this.state.isDataLoaded === 1) {\n      console.log(\"Rendering data : \" + this.state.data.videos);\n      return React.createElement(VideoList, {\n        width: \"33.33%\",\n        user: this.state.user,\n        data: this.state.data.videos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    } else {\n      console.log(\"Rendering Mimie\");\n      return React.createElement(VideoList, {\n        width: \"33.33%\",\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/servi/Documents/EZProjet/YoutubeLibrary/youtube-library-app/src/components/leftPanel.js"],"names":["React","VideoList","axios","require","leftPanel","Component","constructor","props","state","user","data","name","videos","isDataLoaded","getLibraryContent","context","libraryURL","console","log","get","params","then","response","JSON","stringify","setState","catch","err","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAKA,eAAe,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAuC;AAElDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADN;AAEXC,MAAAA,IAAI,EAAE;AAACC,QAAAA,IAAI,EAAE,EAAP;AAAWC,QAAAA,MAAM,EAAE;AAAnB,OAFK;AAGXC,MAAAA,YAAY,EAAE;AAHH,KAAb;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,OAAO,GAAG,IAAd;AACA,QAAIL,IAAI,GAAG,EAAX;AACA,QAAIM,UAAU,GAAG,4BAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,IAAvB;AACAP,IAAAA,KAAK,CAACiB,GAAN,CAAUH,UAAV,EAAsB;AAClBI,MAAAA,MAAM,EAAE;AACJX,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC;AADb;AADU,KAAtB,EAKCY,IALD,CAKO,UAAUC,QAAV,EAAoB;AAAG;AAC1BZ,MAAAA,IAAI,GAAGY,QAAQ,CAACZ,IAAhB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAcK,IAAI,CAACC,SAAL,CAAed,IAAf,CAA1B;AACAK,MAAAA,OAAO,CAACU,QAAR,CAAiB;AAACf,QAAAA,IAAI,EAAEA,IAAP;AAAaG,QAAAA,YAAY,EAAE;AAA3B,OAAjB;AACH,KATD,EAUCa,KAVD,CAUQC,GAAD,IAAS;AACZV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACH,KAZD;AAaH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBX,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,SAAKO,QAAL,CAAc;AAACf,MAAAA,IAAI,EAAE,KAAKI,iBAAL;AAAP,KAAd;AACH;;AAGDe,EAAAA,MAAM,GAAE;AACJZ,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAeK,IAAI,CAACC,SAAL,CAAe,KAAKhB,KAAL,CAAWE,IAA1B,CAA3B;;AAEA,QAAG,KAAKF,KAAL,CAAWK,YAAX,KAA4B,CAA/B,EAAiC;AAC7BI,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAoB,KAAKV,KAAL,CAAWE,IAAX,CAAgBE,MAAhD;AACA,aAEI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,QAAjB;AAA0B,QAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWC,IAA3C;AAAiD,QAAA,IAAI,EAAG,KAAKD,KAAL,CAAWE,IAAX,CAAgBE,MAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ;AAKH,KAPD,MAQK;AACDK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,aAEI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAC,QAAjB;AAA0B,QAAA,IAAI,EAAE,KAAKV,KAAL,CAAWC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ;AAKH;AAGJ;;AA1DiD;AA4DrD","sourcesContent":["import React from 'react';\r\nimport VideoList from './videolist';\r\nconst axios = require('axios');\r\n\r\n\r\n\r\n\r\nexport default class leftPanel extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          user: this.props.user,\r\n          data: {name: '', videos: []},\r\n          isDataLoaded: 0,\r\n        }\r\n      }\r\n\r\n      getLibraryContent() {\r\n        var context = this;\r\n        var data = {};\r\n        var libraryURL = 'http://localhost:2999/data';\r\n        console.log(this.state.user);\r\n        axios.get(libraryURL, {\r\n            params: {\r\n                user: this.state.user,\r\n            }\r\n        })\r\n        .then( function (response) {  //Problem here\r\n            data = response.data;\r\n            console.log(\"Data got : \"+JSON.stringify(data));\r\n            context.setState({data: data, isDataLoaded: 1});\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"In components did mount\");\r\n        this.setState({data: this.getLibraryContent()});\r\n    }\r\n    \r\n\r\n    render(){\r\n        console.log(\"In render : \"+JSON.stringify(this.state.data));\r\n        \r\n        if(this.state.isDataLoaded === 1){\r\n            console.log(\"Rendering data : \"+this.state.data.videos);\r\n            return (\r\n\r\n                <VideoList width='33.33%' user={this.state.user} data= {this.state.data.videos} />\r\n    \r\n            );\r\n        }\r\n        else {\r\n            console.log(\"Rendering Mimie\");\r\n            return(\r\n    \r\n                <VideoList width='33.33%' user={this.state.user}/>\r\n    \r\n            );\r\n        }\r\n\r\n\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}