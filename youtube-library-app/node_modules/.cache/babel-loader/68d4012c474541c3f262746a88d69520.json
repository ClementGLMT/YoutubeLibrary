{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\servi\\\\Documents\\\\EZProjet\\\\YoutubeLibrary\\\\youtube-library-app\\\\src\\\\components\\\\leftPanel.js\";\nimport React from 'react';\nimport VideoList from './videolist';\nimport { Header, Image, Modal, Input, Button } from 'semantic-ui-react';\nimport Search from './search';\nimport './components.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport { store } from '../store';\nimport { toogleIsDataLoaded, setUser, modalAction } from '../actions';\n\nconst axios = require('axios');\n\nexport default class leftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.data = {\n      name: '',\n      videos: []\n    };\n    this.getUser();\n  }\n\n  getLibraryContent() {\n    var context = this;\n    var data = {\n      name: '',\n      videos: []\n    };\n    var libraryURL = 'http://localhost:2999/data';\n    console.log(store.getState().SetUser.user);\n    axios.get(libraryURL, {\n      params: {\n        user: store.getState().SetUser.user\n      }\n    }).then(function (response) {\n      data = response.data;\n      context.data = data;\n      console.log(\"Receiving response from server\");\n      context.dispatchToogleDataLoaded('leftPanel'); //console.log(\"Data got : \"+JSON.stringify(context.data));\n      //return data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    this.getLibraryContent();\n  }\n\n  dispatchToogleDataLoaded(panel) {\n    store.dispatch(toogleIsDataLoaded(panel));\n  }\n\n  getUser() {\n    var regex = /http:\\/\\/localhost:3000\\/\\?user=([\\w-]{1,})/;\n    var url = window.location.href;\n    var user = url.match(regex)[1];\n    this.dispatchSetUser(user);\n  }\n\n  dispatchSetUser(user) {\n    store.dispatch(setUser(user));\n    console.log(\"User dispatch done\");\n  }\n\n  closeModal() {\n    store.dispatch(modalAction('close'));\n  }\n\n  render() {\n    //console.log(\"In render (left): \"+JSON.stringify(this.data));\n    console.log(\"User in left Panel : \" + store.getState().SetUser.user);\n    console.log(\"Rendering left panel with isDataLoaded: \" + store.getState().DataLoading.isLeftDataLoaded);\n    return React.createElement(\"div\", {\n      className: \"leftPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"libraryName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Image, {\n      size: \"mini\",\n      circular: true,\n      src: \"https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), \" \", store.getState().SetUser.user, \"'s library\"), React.createElement(Search, {\n      className: \"search\",\n      style: {\n        height: '10%',\n        width: '340px',\n        margin: '0 auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(VideoList, {\n      className: \"videoList\",\n      side: \"OnLeft\",\n      user: store.getState().SetUser.user,\n      data: this.data.videos,\n      isDataLoaded: store.getState().DataLoading.isLeftDataLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      style: {\n        marginBottom: '10px'\n      },\n      dimmer: store.getState().ModalReducer.dimmer,\n      open: store.getState().ModalReducer.isModalOpen,\n      onClose: this.closeModal,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.props.data.title.concat(this.props.data.subtitle)), React.createElement(Modal.Content, {\n      image: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Image, {\n      wrapped: true,\n      size: \"medium\",\n      src: this.props.data.thumbnails.medium.url,\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Modal.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Header, {\n      style: {\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"What's the new name of your video ?\"), React.createElement(Input, {\n      onChange: (event, data) => {\n        this.inputName = data.value;\n      },\n      placeholder: \"New name\",\n      style: {\n        marginTop: '28.375px',\n        marginLeft: '56.55px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))), React.createElement(Modal.Actions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Button, {\n      negative: true,\n      onClick: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      positive: true,\n      icon: \"checkmark\",\n      labelPosition: \"right\",\n      content: \"Confirm\",\n      onClick: () => {\n        alert(this.inputName);\n        this.closeModal();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))));\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/servi/Documents/EZProjet/YoutubeLibrary/youtube-library-app/src/components/leftPanel.js"],"names":["React","VideoList","Header","Image","Modal","Input","Button","Search","store","toogleIsDataLoaded","setUser","modalAction","axios","require","leftPanel","Component","constructor","props","data","name","videos","getUser","getLibraryContent","context","libraryURL","console","log","getState","SetUser","user","get","params","then","response","dispatchToogleDataLoaded","catch","err","componentDidMount","panel","dispatch","regex","url","window","location","href","match","dispatchSetUser","closeModal","render","DataLoading","isLeftDataLoaded","height","width","margin","marginBottom","ModalReducer","dimmer","isModalOpen","title","concat","subtitle","thumbnails","medium","marginLeft","marginRight","event","inputName","value","marginTop","alert"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,KAAxB,EAA+BC,KAA/B,EAAsCC,MAAtC,QAAoD,mBAApD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,kBAAP;AACA,OAAO,kCAAP;AACA,SAASC,KAAT,QAAqB,UAArB;AACA,SAAQC,kBAAR,EAA4BC,OAA5B,EAAqCC,WAArC,QAAuD,YAAvD;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAKA,eAAe,MAAMC,SAAN,SAAwBd,KAAK,CAACe,SAA9B,CAAuC;AAElDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,IAAL,GAAY;AAACC,MAAAA,IAAI,EAAE,EAAP;AAAWC,MAAAA,MAAM,EAAE;AAAnB,KAAZ;AACA,SAAKC,OAAL;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,OAAO,GAAG,IAAd;AACA,QAAIL,IAAI,GAAG;AAACC,MAAAA,IAAI,EAAE,EAAP;AAAWC,MAAAA,MAAM,EAAE;AAAnB,KAAX;AACA,QAAII,UAAU,GAAG,4BAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYlB,KAAK,CAACmB,QAAN,GAAiBC,OAAjB,CAAyBC,IAArC;AACAjB,IAAAA,KAAK,CAACkB,GAAN,CAAUN,UAAV,EAAsB;AAClBO,MAAAA,MAAM,EAAE;AACJF,QAAAA,IAAI,EAAErB,KAAK,CAACmB,QAAN,GAAiBC,OAAjB,CAAyBC;AAD3B;AADU,KAAtB,EAKCG,IALD,CAKO,UAAUC,QAAV,EAAoB;AACvBf,MAAAA,IAAI,GAAGe,QAAQ,CAACf,IAAhB;AACAK,MAAAA,OAAO,CAACL,IAAR,GAAeA,IAAf;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAH,MAAAA,OAAO,CAACW,wBAAR,CAAiC,WAAjC,EAJuB,CAKvB;AACA;AACH,KAZD,EAaCC,KAbD,CAaQC,GAAD,IAAS;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACH,KAfD;AAgBH;;AAEFC,EAAAA,iBAAiB,GAAE;AACd,SAAKf,iBAAL;AACH;;AAEDY,EAAAA,wBAAwB,CAACI,KAAD,EAAQ;AAC5B9B,IAAAA,KAAK,CAAC+B,QAAN,CAAe9B,kBAAkB,CAAC6B,KAAD,CAAjC;AACD;;AAEDjB,EAAAA,OAAO,GAAE;AAEP,QAAImB,KAAK,GAAG,6CAAZ;AAEA,QAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA1B;AACA,QAAIf,IAAI,GAAGY,GAAG,CAACI,KAAJ,CAAUL,KAAV,EAAiB,CAAjB,CAAX;AACA,SAAKM,eAAL,CAAqBjB,IAArB;AACA;;AAEDiB,EAAAA,eAAe,CAACjB,IAAD,EAAO;AACpBrB,IAAAA,KAAK,CAAC+B,QAAN,CAAe7B,OAAO,CAACmB,IAAD,CAAtB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;AAEDqB,EAAAA,UAAU,GAAG;AACZvC,IAAAA,KAAK,CAAC+B,QAAN,CAAe5B,WAAW,CAAC,OAAD,CAA1B;AACD;;AAKHqC,EAAAA,MAAM,GAAE;AACJ;AACAvB,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAwBlB,KAAK,CAACmB,QAAN,GAAiBC,OAAjB,CAAyBC,IAA7D;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,6CAA2ClB,KAAK,CAACmB,QAAN,GAAiBsB,WAAjB,CAA6BC,gBAApF;AAKI,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,MAA3B;AAA4B,MAAA,GAAG,EAAC,0EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,OACmH1C,KAAK,CAACmB,QAAN,GAAiBC,OAAjB,CAAyBC,IAD5I,eADJ,EAII,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,KAAK,EAAE;AAAEsB,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAE,OAAxB;AAAiCC,QAAAA,MAAM,EAAE;AAAzC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAMI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,WAArB;AAAiC,MAAA,IAAI,EAAC,QAAtC;AAA+C,MAAA,IAAI,EAAE7C,KAAK,CAACmB,QAAN,GAAiBC,OAAjB,CAAyBC,IAA9E;AAAoF,MAAA,IAAI,EAAG,KAAKX,IAAL,CAAUE,MAArG;AAA6G,MAAA,YAAY,EAAEZ,KAAK,CAACmB,QAAN,GAAiBsB,WAAjB,CAA6BC,gBAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAQI,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAI;AAACI,QAAAA,YAAY,EAAE;AAAf,OAAhB;AAAwC,MAAA,MAAM,EAAE9C,KAAK,CAACmB,QAAN,GAAiB4B,YAAjB,CAA8BC,MAA9E;AAAsF,MAAA,IAAI,EAAEhD,KAAK,CAACmB,QAAN,GAAiB4B,YAAjB,CAA8BE,WAA1H;AAAuI,MAAA,OAAO,EAAE,KAAKV,UAArJ;AAAiK,MAAA,IAAI,EAAC,OAAtK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAe,KAAK9B,KAAL,CAAWC,IAAX,CAAgBwC,KAAhB,CAAsBC,MAAtB,CAA6B,KAAK1C,KAAL,CAAWC,IAAX,CAAgB0C,QAA7C,CAAf,CADI,EAEJ,oBAAC,KAAD,CAAO,OAAP;AAAe,MAAA,KAAK,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,OAAO,MADT;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,GAAG,EAAE,KAAK3C,KAAL,CAAWC,IAAX,CAAgB2C,UAAhB,CAA2BC,MAA3B,CAAkCrB,GAHzC;AAIE,MAAA,SAAS,EAAG,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,KAAD,CAAO,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAACsB,QAAAA,UAAU,EAAE,MAAb;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CADF,EAEI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAE,CAACC,KAAD,EAAO/C,IAAP,KAAe;AAAC,aAAKgD,SAAL,GAAiBhD,IAAI,CAACiD,KAAtB;AAA4B,OAA7D;AAA+D,MAAA,WAAW,EAAC,UAA3E;AAAsF,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE,UAAZ;AAAwBL,QAAAA,UAAU,EAAE;AAApC,OAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAPF,CAFI,EAcJ,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,OAAO,EAAE,KAAKhB,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIE,oBAAC,MAAD;AACE,MAAA,QAAQ,MADV;AAEE,MAAA,IAAI,EAAC,WAFP;AAGE,MAAA,aAAa,EAAC,OAHhB;AAIE,MAAA,OAAO,EAAC,SAJV;AAKE,MAAA,OAAO,EAAE,MAAM;AAACsB,QAAAA,KAAK,CAAC,KAAKH,SAAN,CAAL;AAAwB,aAAKnB,UAAL;AAAmB,OAL7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CAdI,CARJ,CADJ;AAwCP;;AA5GiD;AA8GrD","sourcesContent":["import React from 'react';\r\nimport VideoList from './videolist';\r\nimport { Header, Image, Modal, Input, Button } from 'semantic-ui-react';\r\nimport Search from './search'; \r\nimport './components.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { store} from '../store';\r\nimport {toogleIsDataLoaded, setUser, modalAction} from '../actions';\r\nconst axios = require('axios');\r\n\r\n\r\n\r\n\r\nexport default class leftPanel extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.data = {name: '', videos: []};\r\n        this.getUser();\r\n      }\r\n\r\n      getLibraryContent() {\r\n        var context = this;\r\n        var data = {name: '', videos: []};\r\n        var libraryURL = 'http://localhost:2999/data';\r\n        console.log(store.getState().SetUser.user);\r\n        axios.get(libraryURL, {\r\n            params: {\r\n                user: store.getState().SetUser.user,\r\n            }\r\n        })\r\n        .then( function (response) { \r\n            data = response.data;\r\n            context.data = data;\r\n            console.log(\"Receiving response from server\");\r\n            context.dispatchToogleDataLoaded('leftPanel');\r\n            //console.log(\"Data got : \"+JSON.stringify(context.data));\r\n            //return data;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n   componentDidMount(){\r\n        this.getLibraryContent();\r\n    }\r\n\r\n    dispatchToogleDataLoaded(panel) {\r\n        store.dispatch(toogleIsDataLoaded(panel));\r\n      }\r\n\r\n      getUser(){\r\n\r\n        var regex = /http:\\/\\/localhost:3000\\/\\?user=([\\w-]{1,})/;\r\n     \r\n        var url = window.location.href;\r\n        var user = url.match(regex)[1];\r\n        this.dispatchSetUser(user);\r\n       }\r\n     \r\n       dispatchSetUser(user) {\r\n         store.dispatch(setUser(user));\r\n         console.log(\"User dispatch done\");\r\n       }\r\n\r\n       closeModal() {\r\n        store.dispatch(modalAction('close'));\r\n      }\r\n\r\n\r\n    \r\n\r\n    render(){\r\n        //console.log(\"In render (left): \"+JSON.stringify(this.data));\r\n        console.log(\"User in left Panel : \"+store.getState().SetUser.user)\r\n        console.log(\"Rendering left panel with isDataLoaded: \"+store.getState().DataLoading.isLeftDataLoaded);\r\n\r\n\r\n\r\n\r\n            return (\r\n                <div className='leftPanel'>\r\n                    <Header className='libraryName'>\r\n                        <Image size='mini' circular src='https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png' /> {store.getState().SetUser.user}'s library\r\n                    </Header>\r\n                    <Search className='search' style={{ height: '10%', width: '340px', margin: '0 auto' }}/>\r\n\r\n                    <VideoList className='videoList' side='OnLeft' user={store.getState().SetUser.user} data= {this.data.videos} isDataLoaded={store.getState().DataLoading.isLeftDataLoaded}/>\r\n\r\n                    <Modal style = {{marginBottom: '10px'}} dimmer={store.getState().ModalReducer.dimmer} open={store.getState().ModalReducer.isModalOpen} onClose={this.closeModal} size='small'>\r\n                <Modal.Header>{this.props.data.title.concat(this.props.data.subtitle)}</Modal.Header>\r\n                <Modal.Content image>\r\n                  <Image\r\n                    wrapped\r\n                    size='medium'\r\n                    src={this.props.data.thumbnails.medium.url}\r\n                    className = 'medium'\r\n                  />\r\n                  <Modal.Description>\r\n                    <Header style={{marginLeft: 'auto', marginRight: 'auto'}} >What's the new name of your video ?</Header>\r\n                      <Input onChange={(event,data)=> {this.inputName = data.value}} placeholder='New name' style={{marginTop: '28.375px', marginLeft: '56.55px'}}/>\r\n                  </Modal.Description>\r\n                </Modal.Content>\r\n                <Modal.Actions>\r\n                  <Button negative onClick={this.closeModal}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    positive\r\n                    icon='checkmark'\r\n                    labelPosition='right'\r\n                    content=\"Confirm\"\r\n                    onClick={() => {alert(this.inputName);  this.closeModal();}}\r\n                  />\r\n                </Modal.Actions>\r\n              </Modal>\r\n                </div>\r\n            );\r\n\r\n\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}