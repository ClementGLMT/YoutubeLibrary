{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\servi\\\\Documents\\\\EZProjet\\\\YoutubeLibrary\\\\youtube-library-app\\\\src\\\\components\\\\leftPanel.js\";\nimport React from 'react';\nimport VideoList from './videolist';\nimport { Header, Image } from 'semantic-ui-react';\nimport Search from './search';\nimport './components.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport { store } from '../store';\nimport { toogleIsDataLoaded, setUser } from '../actions';\n\nconst axios = require('axios');\n\nexport default class leftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.data = {\n      name: '',\n      videos: []\n    };\n  }\n\n  getLibraryContent() {\n    var context = this;\n    var data = {\n      name: '',\n      videos: []\n    };\n    var libraryURL = 'http://localhost:2999/data';\n    console.log(store.getState().SetUser.user);\n    axios.get(libraryURL, {\n      params: {\n        user: store.getState().SetUser.user\n      }\n    }).then(function (response) {\n      data = response.data;\n      context.data = data;\n      context.dispatchToogleDataLoaded('leftPanel');\n      console.log(\"Data got : \" + JSON.stringify(context.data));\n      return data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    var data = this.getLibraryContent();\n    if (data !== undefined) this.data = data;\n  }\n\n  dispatchToogleDataLoaded(panel) {\n    store.dispatch(toogleIsDataLoaded(panel));\n  }\n\n  getUser() {\n    var regex = /http:\\/\\/localhost:3000\\/\\?user=([\\w-]{1,})/;\n    var url = window.location.href;\n    var user = url.match(regex)[1];\n    this.dispatchSetUser(user);\n  }\n\n  dispatchSetUser(user) {\n    store.dispatch(setUser(user));\n  }\n\n  render() {\n    console.log(\"In render (left): \" + JSON.stringify(this.data));\n    console.log(\"User in left Panel : \" + store.getState().SetUser.user);\n    console.log(\"Rendering left panel with isDataLoaded: \" + store.getState().DataLoading.isLeftDataLoaded);\n    return React.createElement(\"div\", {\n      className: \"leftPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"libraryName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Image, {\n      size: \"mini\",\n      circular: true,\n      src: \"https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), \" \", store.getState().SetUser.user, \"'s library\"), React.createElement(Search, {\n      className: \"search\",\n      style: {\n        height: '10%',\n        width: '340px',\n        margin: '0 auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(VideoList, {\n      className: \"videoList\",\n      side: \"OnLeft\",\n      user: this.props.user,\n      data: this.data.videos,\n      isDataLoaded: store.getState().DataLoading.isLeftDataLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/servi/Documents/EZProjet/YoutubeLibrary/youtube-library-app/src/components/leftPanel.js"],"names":["React","VideoList","Header","Image","Search","store","toogleIsDataLoaded","setUser","axios","require","leftPanel","Component","constructor","props","data","name","videos","getLibraryContent","context","libraryURL","console","log","getState","SetUser","user","get","params","then","response","dispatchToogleDataLoaded","JSON","stringify","catch","err","componentDidMount","undefined","panel","dispatch","getUser","regex","url","window","location","href","match","dispatchSetUser","render","DataLoading","isLeftDataLoaded","height","width","margin"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport VideoList from './videolist';\r\nimport { Header, Image } from 'semantic-ui-react';\r\nimport Search from './search'; \r\nimport './components.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { store} from '../store';\r\nimport {toogleIsDataLoaded, setUser} from '../actions';\r\nconst axios = require('axios');\r\n\r\n\r\n\r\n\r\nexport default class leftPanel extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.data = {name: '', videos: []};\r\n      }\r\n\r\n      getLibraryContent() {\r\n        var context = this;\r\n        var data = {name: '', videos: []};\r\n        var libraryURL = 'http://localhost:2999/data';\r\n        console.log(store.getState().SetUser.user);\r\n        axios.get(libraryURL, {\r\n            params: {\r\n                user: store.getState().SetUser.user,\r\n            }\r\n        })\r\n        .then( function (response) { \r\n            data = response.data;\r\n            context.data = data;\r\n            context.dispatchToogleDataLoaded('leftPanel');\r\n            console.log(\"Data got : \"+JSON.stringify(context.data));\r\n            return data;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        var data = this.getLibraryContent();\r\n        if(data !== undefined)\r\n            this.data= data;\r\n    }\r\n\r\n    dispatchToogleDataLoaded(panel) {\r\n        store.dispatch(toogleIsDataLoaded(panel));\r\n      }\r\n\r\n      getUser(){\r\n\r\n        var regex = /http:\\/\\/localhost:3000\\/\\?user=([\\w-]{1,})/;\r\n     \r\n        var url = window.location.href;\r\n        var user = url.match(regex)[1];\r\n        this.dispatchSetUser(user);\r\n       }\r\n     \r\n       dispatchSetUser(user) {\r\n         store.dispatch(setUser(user));\r\n       }\r\n\r\n\r\n    \r\n\r\n    render(){\r\n        console.log(\"In render (left): \"+JSON.stringify(this.data));\r\n        console.log(\"User in left Panel : \"+store.getState().SetUser.user)\r\n        console.log(\"Rendering left panel with isDataLoaded: \"+store.getState().DataLoading.isLeftDataLoaded);\r\n\r\n\r\n\r\n\r\n            return (\r\n                <div className='leftPanel'>\r\n                    <Header className='libraryName'>\r\n                        <Image size='mini' circular src='https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png' /> {store.getState().SetUser.user}'s library\r\n                    </Header>\r\n                    <Search className='search' style={{ height: '10%', width: '340px', margin: '0 auto' }}/>\r\n\r\n                    <VideoList className='videoList' side='OnLeft' user={this.props.user} data= {this.data.videos} isDataLoaded={store.getState().DataLoading.isLeftDataLoaded}/>\r\n                </div>\r\n            );\r\n\r\n\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}