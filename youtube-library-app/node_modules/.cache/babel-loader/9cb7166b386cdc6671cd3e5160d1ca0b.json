{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\servi\\\\Documents\\\\EZProjet\\\\YoutubeLibrary\\\\youtube-library-app\\\\src\\\\components\\\\leftPanel.js\";\nimport React from 'react';\nimport VideoList from './videolist';\nimport { Header, Image, Modal, Input, Button } from 'semantic-ui-react';\nimport Search from './search';\nimport './components.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport { store } from '../store';\nimport { toast } from 'react-toastify';\nimport { updateListReducer, setUser, modalAction } from '../actions';\n\nconst axios = require('axios');\n\nexport default class leftPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.data = {\n      name: '',\n      videos: []\n    };\n  }\n\n  getLibraryContent() {\n    var context = this;\n    var data = {\n      name: '',\n      videos: []\n    };\n    var libraryURL = 'http://localhost:2999/data'; //console.log(store.getState().SetUser.user);\n\n    axios.get(libraryURL, {\n      params: {\n        user: store.getState().SetUser.user\n      }\n    }).then(function (response) {\n      data = response.data.videos; //console.log(\"Received from server: \"+JSON.stringify(data));\n\n      for (let i = 0; i < data.length; i++) {\n        data[i]['isParsed'] = false;\n        data[i]['subtitle'] = '';\n      }\n\n      context.data = data; //console.log(\"Receiving response from server\"+JSON.stringify(context.data));\n\n      context.dispatchUpdateList('leftPanel', data); //return data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  updateLibrary(data) {\n    this.data = data;\n  }\n\n  componentDidMount() {\n    this.getLibraryContent();\n  }\n\n  dispatchUpdateList(panel, videos) {\n    store.dispatch(updateListReducer(panel, videos));\n  }\n\n  closeModal() {\n    store.dispatch(modalAction('close'));\n  }\n\n  handlePositiveClick() {\n    var self = this; //console.log(\"User when requesting : \"+store.getState().SetUser.user);\n\n    axios.post('http://localhost:2999/rename', {\n      body: {\n        videoid: store.getState().ModalReducer.video.id,\n        newtitle: this.inputName,\n        user: store.getState().SetUser.user\n      }\n    }).then(function (response) {\n      //console.log(response);\n      self.dispatchUpdateList('leftPanel', response.data.videos);\n    }).catch(function (err) {\n      console.log(err);\n    });\n    this.closeModal();\n    toast.success(\"Video renamed !\");\n  }\n\n  render() {\n    console.log(\"Rendering in left panel : \" + JSON.stringify(store.getState().DataLoading.leftPanel.videos));\n    return React.createElement(\"div\", {\n      className: \"leftPanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"libraryName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Image, {\n      size: \"mini\",\n      circular: true,\n      src: \"https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \" \", store.getState().SetUser.user, \"'s library\"), React.createElement(Search, {\n      className: \"search\",\n      style: {\n        height: '10%',\n        width: '340px',\n        margin: '0 auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(VideoList, {\n      className: \"videoList\",\n      side: \"OnLeft\",\n      user: store.getState().SetUser.user,\n      data: store.getState().DataLoading.leftPanel.videos,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      style: {\n        marginBottom: '10px'\n      },\n      dimmer: store.getState().ModalReducer.dimmer,\n      open: store.getState().ModalReducer.isModalOpen,\n      onClose: this.closeModal,\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, store.getState().ModalReducer.video.title), React.createElement(Modal.Content, {\n      image: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Image, {\n      wrapped: true,\n      size: \"medium\",\n      src: store.getState().ModalReducer.video.thumbnails.medium.url,\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(Modal.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Header, {\n      style: {\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"What's the new name of your video ?\"), React.createElement(Input, {\n      onChange: (event, data) => {\n        this.inputName = data.value;\n      },\n      placeholder: \"New name\",\n      style: {\n        marginTop: '28.375px',\n        marginLeft: '56.55px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))), React.createElement(Modal.Actions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button, {\n      negative: true,\n      onClick: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      positive: true,\n      icon: \"checkmark\",\n      labelPosition: \"right\",\n      content: \"Confirm\",\n      onClick: () => {\n        this.handlePositiveClick();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))));\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/servi/Documents/EZProjet/YoutubeLibrary/youtube-library-app/src/components/leftPanel.js"],"names":["React","VideoList","Header","Image","Modal","Input","Button","Search","store","toast","updateListReducer","setUser","modalAction","axios","require","leftPanel","Component","constructor","props","data","name","videos","getLibraryContent","context","libraryURL","get","params","user","getState","SetUser","then","response","i","length","dispatchUpdateList","catch","err","console","log","updateLibrary","componentDidMount","panel","dispatch","closeModal","handlePositiveClick","self","post","body","videoid","ModalReducer","video","id","newtitle","inputName","success","render","JSON","stringify","DataLoading","height","width","margin","marginBottom","dimmer","isModalOpen","title","thumbnails","medium","url","marginLeft","marginRight","event","value","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport VideoList from './videolist';\r\nimport { Header, Image, Modal, Input, Button } from 'semantic-ui-react';\r\nimport Search from './search'; \r\nimport './components.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { store} from '../store';\r\nimport {toast} from 'react-toastify';\r\nimport {updateListReducer, setUser, modalAction} from '../actions';\r\nconst axios = require('axios');\r\n\r\n\r\n\r\n\r\nexport default class leftPanel extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.data = {name: '', videos: []};\r\n      }\r\n\r\n      getLibraryContent() {\r\n        var context = this;\r\n        var data = {name: '', videos: []};\r\n        var libraryURL = 'http://localhost:2999/data';\r\n        //console.log(store.getState().SetUser.user);\r\n        axios.get(libraryURL, {\r\n            params: {\r\n                user: store.getState().SetUser.user,\r\n            }\r\n        })\r\n        .then( function (response) { \r\n            data = response.data.videos;\r\n            //console.log(\"Received from server: \"+JSON.stringify(data));\r\n            for (let i = 0; i < data.length; i++) {\r\n                data[i]['isParsed'] = false;\r\n                data[i]['subtitle'] = '';\r\n                \r\n            }\r\n            context.data = data;\r\n            //console.log(\"Receiving response from server\"+JSON.stringify(context.data));\r\n            context.dispatchUpdateList('leftPanel', data);\r\n            //return data;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    updateLibrary(data) {\r\n        this.data = data;\r\n    }\r\n\r\n   componentDidMount(){\r\n        this.getLibraryContent();\r\n    }\r\n\r\n\r\n    dispatchUpdateList(panel, videos) {\r\n        store.dispatch(updateListReducer(panel, videos));\r\n    }\r\n\r\n\r\n\r\n      closeModal() {\r\n        store.dispatch(modalAction('close'));\r\n      }\r\n\r\n      handlePositiveClick() {\r\n        var self = this;\r\n        //console.log(\"User when requesting : \"+store.getState().SetUser.user);\r\n\r\n        axios.post('http://localhost:2999/rename', {\r\n            body: {\r\n                videoid: store.getState().ModalReducer.video.id,\r\n                newtitle: this.inputName,\r\n                user: store.getState().SetUser.user\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            //console.log(response);\r\n            self.dispatchUpdateList('leftPanel', response.data.videos);\r\n        })\r\n        .catch (function(err) {\r\n            console.log(err);\r\n        })\r\n\r\n\r\n        this.closeModal();\r\n        toast.success(\"Video renamed !\");\r\n      }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n    \r\n\r\n    render(){\r\n\r\n\r\n            console.log(\"Rendering in left panel : \"+JSON.stringify(store.getState().DataLoading.leftPanel.videos));\r\n\r\n            return (\r\n                <div className='leftPanel'>\r\n                    <Header className='libraryName'>\r\n                        <Image size='mini' circular src='https://image.noelshack.com/fichiers/2020/12/4/1584657095-miniytlogo.png' /> {store.getState().SetUser.user}'s library\r\n                    </Header>\r\n                    <Search className='search' style={{ height: '10%', width: '340px', margin: '0 auto' }}/>\r\n\r\n                    <VideoList className='videoList' side='OnLeft' user={store.getState().SetUser.user} data= {store.getState().DataLoading.leftPanel.videos}/>\r\n\r\n                    <Modal style = {{marginBottom: '10px'}} dimmer={store.getState().ModalReducer.dimmer} open={store.getState().ModalReducer.isModalOpen} onClose={this.closeModal} size='small'>\r\n                <Modal.Header>{store.getState().ModalReducer.video.title}</Modal.Header>\r\n                <Modal.Content image>\r\n                  <Image\r\n                    wrapped\r\n                    size='medium'\r\n                    src={store.getState().ModalReducer.video.thumbnails.medium.url}\r\n                    className = 'medium'\r\n                  />\r\n                  <Modal.Description>\r\n                    <Header style={{marginLeft: 'auto', marginRight: 'auto'}} >What's the new name of your video ?</Header>\r\n                      <Input onChange={(event,data)=> {this.inputName = data.value}} placeholder='New name' style={{marginTop: '28.375px', marginLeft: '56.55px'}}/>\r\n                  </Modal.Description>\r\n                </Modal.Content>\r\n                <Modal.Actions>\r\n                  <Button negative onClick={this.closeModal}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    positive\r\n                    icon='checkmark'\r\n                    labelPosition='right'\r\n                    content=\"Confirm\"\r\n                    onClick={() => {this.handlePositiveClick();}}\r\n                  />\r\n                </Modal.Actions>\r\n              </Modal>\r\n                </div>\r\n            );\r\n\r\n\r\n    }\r\n\r\n};"]},"metadata":{},"sourceType":"module"}